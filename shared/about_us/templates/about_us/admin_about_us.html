{% extends "base_internal.html" %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>About Us</title>

<link href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link href="{% static 'shared/aboutus/styles.css' %}" rel="stylesheet">

</head>
<body>
	<div class="about-container">
		<div style="position: relative; min-height: 40px;">
			<a href="{% url 'edit_about_us' %}" class="edit-btn" style="position: absolute; top: 0; right: 0;" title="Edit About Us">
				<i class="fa-solid fa-pen-to-square"></i>
			</a>
		</div>

		<section class="hero">
			<div>
				<h1>Palawan State University<br>University Extension Services Office</h1>
				<p class="lead">{{ about.hero_text|linebreaksbr }}</p>
			</div>
			<div class="seal">
				<img alt="Palawan State University Seal" src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Palawan_State_University_seal.png">
			</div>
		</section>

		<div class="section-gray">
			<div class="container">
				<h2 class="section-title">UESO Mission and Vision</h2>
				<div class="two-col">
					<div class="card">
						<h3>UESO Vision</h3>
						<p>{{ about.vision_text|linebreaksbr }}</p>
					</div>
					<div class="card">
						<h3>UESO Mission</h3>
						<p>{{ about.mission_text|linebreaksbr }}</p>
					</div>
				</div>
			</div>
		</div>

		<section class="section">
			<h2>UESO Thrust and Priorities</h2>
			<p class="lead">{{ about.thrust_text|linebreaksbr }}</p>
		</section>

		<div class="section-gray">
			<div class="container">
				<div class="leadership-section">
					<div class="profile-image">
						{% if about.director_image %}
							<img src="{{ about.director_image.url }}" alt="Director Image" style="max-width:200px; margin-bottom:8px;">
						{% else %}
							<div class="image-placeholder"></div>
						{% endif %}
						<div class="profile-info">
							<h3>{{ about.director_name }}</h3>
							<p>Director, Extension Services Office</p>
						</div>
					</div>
					<div class="leadership-content">
						<h2>Leadership & Administration</h2>
						<p>{{ about.leadership_description|linebreaksbr }}</p>
					</div>
				</div>
			</div>
		</div>

		<section class="section">
			<h2 class="section-title">Organizational Chart</h2>
			<div class="org-chart">
				{% if about.org_chart_image %}
					<img src="{{ about.org_chart_image.url }}" alt="Org Chart Image" style="max-width: 100%; margin-bottom: 16px;">
				{% endif %}
				<p class="lead">{{ about.org_chart_description|linebreaksbr }}</p>
			</div>
		</section>
	</div>

<script>
	// Success Toast
	document.addEventListener('DOMContentLoaded', function() {
		const urlParams = new URLSearchParams(window.location.search);
		const success = urlParams.get('success');
		const action = urlParams.get('action');

		if (success === 'true' && action) {
			const actionMessages = {
				'updated': 'About Us Updated Successfully!'
			};

			const message = actionMessages[action] || 'Action Completed Successfully!';

			const toast = document.createElement('div');
			toast.id = 'successToast';
			toast.style.cssText = 'display:block;position:fixed;top:20px;right:20px;background:#10b981;color:white;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:10000;font-size:1rem;font-weight:500;min-width:300px;';
			toast.innerHTML = `
				<div style="display:flex;align-items:center;gap:0.75rem;">
					<i class="fa-solid fa-check-circle" style="font-size:1.5rem;"></i>
					<div>
						<div style="font-weight:600;margin-bottom:0.25rem;">${message}</div>
						<div style="font-size:0.875rem;opacity:0.9;">Changes have been saved</div>
					</div>
				</div>
			`;
			document.body.appendChild(toast);

			// Auto-hide after 4 seconds
			setTimeout(function() {
				toast.style.opacity = '0';
				toast.style.transition = 'opacity 0.3s';
				setTimeout(function() {
					toast.remove();
					// Clean URL
					window.history.replaceState({}, document.title, window.location.pathname);
				}, 300);
			}, 4000);
		}
	});
</script>
</body>
</html> 

{% endblock %}